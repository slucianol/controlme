language: csharp
install: true
mono: none
dotnet: 2.1.502
jobs:
  include:
    - addons:
      sonarcloud:
        organization: "controlme"
    - stage: code_analysis
      script:
        - sonar-scanner
    - stage: build
      script:
        - cd ControlMe.WebApi
    - stage: deploy
      script: skip
      deploy:
        provider: azure_web_apps
        verbose: true
        on:
            all_branches: true